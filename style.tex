\usepackage{fullpage}
\usepackage[utf8]{inputenc}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{enumerate}
\usepackage{enumitem}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{scrextend}
\usepackage{color}
\usepackage[procnames]{listings}
\usepackage{textcomp}
\usepackage{setspace}
\usepackage{palatino}

% Page Setup
\pagestyle{fancy}
\setlength{\parindent}{0em}
\setlength{\voffset}{-1em}
\setlength{\headheight}{28pt}
\setlength{\headsep}{12pt}
\setlength{\textheight}{8.8in}
\linespread{1.15}

\newcommand{\psetnum}{0}
\newcommand{\classname}{None}
\newcommand{\collaborators}{None}

% Header
\lhead{Larry Zhang \\ \textsl{\classname}}
\rhead{PSET \psetnum}
\cfoot{\thepage}

% First Page Header
\fancypagestyle{firstpage}{
  \lhead{Larry Zhang \\ \textsl{\classname}}
  \rhead{\textsl{Collaborators}: \\ \collaborators}
}

% Section Labels
\renewcommand\thesection{Problem \psetnum-\arabic{section}}
\renewcommand{\labelenumi}{\bfseries\alph{enumi})}
\setlist[enumerate,1]{rightmargin=.5in}

% Theorem
\newtheoremstyle{theorem}{}{}{}{}{\bfseries}{:}{.5em}{}
\theoremstyle{theorem}
\newtheorem*{theorem}{Theorem}

% Proof
\renewenvironment{proof}{\vspace*{-6pt}\pushQED{\qed}{\textit{Proof}.}}{\popQED}

% Cases
\newlist{case}{enumerate}{1}
\setlist[case]{label=\textit{Case \arabic*}:,leftmargin=.75in}

% Colors
\definecolor{black}{gray}{0}
\definecolor{gray}{gray}{0.5}
\definecolor{green}{RGB}{96,138,46}
\definecolor{red}{RGB}{196,78,79}
\definecolor{purple}{RGB}{146,118,209}
\definecolor{yellow}{RGB}{240,144,61}
\definecolor{blue}{RGB}{68,137,191}

% Styling Python
\newcommand{\pythonstyle}{
  \lstset{
    % % Line Numbers
    % numbers=left,
    % numberstyle=\ttfamily\footnotesize\color{gray},
    % numbersep=1em,
    % firstnumber=1,
    % stepnumber=5,
    tabsize=2,
    showspaces=false,
    showtabs=false,
    showstringspaces=false,
    breaklines=true,
    % Basics
    language=Python,
    basicstyle=\ttfamily\setstretch{1},
    % Comments
    commentstyle=\color{gray}\let\color\resetcolor\slshape,
    % Strings
    stringstyle=\color{yellow}\bfseries,
    morecomment=[s][\color{yellow}\bfseries]{"""}{"""},
    morecomment=[s][\color{yellow}\bfseries]{'''}{'''},
    upquote=true,
    % Keywords
    keywordstyle=\color{red}\bfseries,
    morekeywords={and,as,break,continue,del,elif,else,%
    except,exec,finally,for,from,if,import,in,is,%
    not,or,pass,print,raise,return,try,while,assert},
    % More Keywords
    emphstyle=\color{blue}\bfseries,
    emph={ArithmeticError,AssertionError,AttributeError,BaseException,%
    DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,%
    FloatingPointError,FutureWarning,GeneratorExit,IOError,%
    ImportError,ImportWarning,IndentationError,IndexError,KeyError,%
    KeyboardInterrupt,LookupError,MemoryError,NameError,%
    NotImplemented,NotImplementedError,OSError,OverflowError,%
    PendingDeprecationWarning,ReferenceError,RuntimeError,RuntimeWarning,%
    StandardError,StopIteration,SyntaxError,SyntaxWarning,SystemError,%
    SystemExit,TabError,TypeError,UnboundLocalError,UnicodeDecodeError,%
    UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,%
    UserWarning,ValueError,Warning,ZeroDivisionError,abs,all,any,apply,%
    basestring,bool,buffer,callable,chr,class,classmethod,cmp,coerce,compile,%
    complex,def,delattr,dict,dir,divmod,enumerate,eval,%
    execfile,file,filter,float,frozenset,getattr,global,globals,hasattr,%
    hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,lambda,len,%
    list,locals,long,map,max,min,object,oct,open,ord,pow,property,%
    range,raw_input,reduce,reload,repr,reversed,round,set,setattr,%
    slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,%
    vars,xrange,zip},
    emphstyle=[2]\color{purple}\bfseries,
    emph={[2]True,False,None},
    % Functions and Classes
    procnamekeys={def,class},
    procnamestyle=\color{green}\bfseries,
    % Other
    literate=*%
      {=}{{{\color{red}\bfseries=}}}1%
      {+}{{{\color{red}\bfseries+}}}1%
      {-}{{{\color{red}\bfseries-}}}1%
      {*}{{{\color{red}\bfseries*}}}1%
      {/}{{{\color{red}\bfseries/}}}1%
      {^}{{{\color{red}\bfseries^}}}1%
      {>}{{{\color{red}\bfseries>}}}1%
      {<}{{{\color{red}\bfseries<}}}1%
      {0}{{{\color{purple}\bfseries0}}}1%
      {1}{{{\color{purple}\bfseries1}}}1%
      {2}{{{\color{purple}\bfseries2}}}1%
      {3}{{{\color{purple}\bfseries3}}}1%
      {4}{{{\color{purple}\bfseries4}}}1%
      {5}{{{\color{purple}\bfseries5}}}1%
      {6}{{{\color{purple}\bfseries6}}}1%
      {7}{{{\color{purple}\bfseries7}}}1%
      {8}{{{\color{purple}\bfseries8}}}1%
      {9}{{{\color{purple}\bfseries9}}}1%
      {.0}{{{\color{purple}\bfseries.0}}}2%
      {.1}{{{\color{purple}\bfseries.1}}}2%
      {.2}{{{\color{purple}\bfseries.2}}}2%
      {.3}{{{\color{purple}\bfseries.3}}}2%
      {.4}{{{\color{purple}\bfseries.4}}}2%
      {.5}{{{\color{purple}\bfseries.5}}}2%
      {.6}{{{\color{purple}\bfseries.6}}}2%
      {.7}{{{\color{purple}\bfseries.7}}}2%
      {.8}{{{\color{purple}\bfseries.8}}}2%
      {.9}{{{\color{purple}\bfseries.9}}}2%
  }
}

% Python environment
\lstnewenvironment{pythonenv}[1][]{
  \pythonstyle{
    \lstset{#1}
  }
}{}

% Python for external files
\newcommand\pyfile[2][]{
  \pythonstyle{
    \lstinputlisting[#1]{#2}
  }
}

% Python for inline
\newcommand\python[1]{
  \pythonstyle{
    \lstinline!#1!
  }
}
